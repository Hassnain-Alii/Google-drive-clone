<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My Drive</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="csrf-token" content="<%= csrfToken %>" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/tippy.js@6/animations/scale.css"
    />
    <link rel="stylesheet" href="/stylesheets/myDrive.css" />

    <link rel="stylesheet" href="/stylesheets/partials/driveFilterBar.css" />
    <link rel="stylesheet" href="/stylesheets/partials/header.css" />
    <link rel="stylesheet" href="/stylesheets/partials/L-sidebar.css" />
    <link rel="stylesheet" href="/stylesheets/partials/R-sidebar.css" />
    <link rel="stylesheet" href="/stylesheets/partials/composeBtn.css" />
    <link rel="stylesheet" href="/stylesheets/partials/optionBar.css" />
    <link rel="stylesheet" href="/stylesheets/partials/progressBar.css" />
    <link rel="stylesheet" href="/stylesheets/partials/renamePopup.css" />
    <link rel="stylesheet" href="/stylesheets/partials/newFolderPopup.css" />
    <link rel="stylesheet" href="/stylesheets/tippy.css" />
    <link rel="stylesheet" href="/stylesheets/dropdown.css" />
    <link rel="stylesheet" href="/stylesheets/partials/loader.css" />

    <link
      rel="stylesheet"
      href="/stylesheets/partials/moreActionDropdown.css"
    />
  </head>

  <body data-folder-id="<%= currentFolder?._id  %>">
    <%- include('partials/loader.ejs') %> <%- include('partials/header.ejs') %> <%-
    include('partials/renamePopup.ejs') %> <%-
    include('partials/newFolderPopup.ejs') %>

    <div class="" style="display: flex">
      <%- include('partials/L-sidebar.ejs',{path:path}) %>

      <main>
        <%- include('partials/progressbar.ejs') %>
        <div class="main-container">
          <div class="main-header">
            <div class="main-header-breadcrumbs">
              <a href="/drive/my-drive" class="main-header-breadcrumb-item"
                >My Drive</a
              >
              <% if (locals.breadcrumbs && breadcrumbs.length > 0) { %> <%
              breadcrumbs.forEach(folder => { %>
              <span class="main-headerbreadcrumb-separator">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
                </svg>
              </span>
              <a
                href="/drive/my-drive/folder/<%= folder._id %>"
                class="main-header-breadcrumb-item"
                ><%= folder.name %></a
              >
              <% }) %> <% } %>
            </div>
          </div>
          <div class="content-container">
            <div class="drive-bar-container">
              <%- include('partials/driveFilterBar.ejs') %> <%- 
              include('partials/optionBar.ejs') %>
            </div>
            <%-
            include('partials/moreActionDropdown.ejs') %>
  
            <div class="drive-file-container file-container">
              <div class="file-container-header">
                <div class="file-container-header-title file-name-title hover">
                  <p><span>Name</span></p>
                  <svg viewBox="0 -960 960 960">
                    <path
                      d="M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"
                    ></path>
                  </svg>
                </div>

                <div class="file-container-header-title file-owner-title">
                  <p><span>Owner</span></p>
                </div>
                <div
                  class="file-container-header-title file-date-modified-title hover"
                >
                  <p><span>Date modified</span></p>
                  <svg viewBox="0 -960 960 960">
                    <path
                      d="M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"
                    ></path>
                  </svg>
                </div>
                <div class="file-container-header-title file-size-title">
                  <p><span>File size</span></p>
                </div>
                <div
                  class="file-container-header-title file-container-sort dropdown-trigger"
                  data-menu="fileContainerSortMenu"
                  data-placement="bottom-end"
                  data-tooltip="View sort options"
                >
                  <svg viewBox="0 -960 960 960">
                    <path
                      d="M120-240v-80h240v80H120Zm0-200v-80h480v80H120Zm0-200v-80h720v80H120Z"
                    ></path>
                  </svg>
                </div>
                <div
                  class="file-container-sort-menu dropdown-menu"
                  id="fileContainerSortMenu"
                  role="menu"
                >
                  <p class="file-container-sort-menu-title">
                    <span>Sort by</span>
                  </p>
                  <hr />
                  <ul class="file-container-sort-menu-options-list sort-by-list">

                    <li class="file-container-sort-option" role="menuitem">
                      <p><span>Name</span></p>
                    </li>
                    <li class="file-container-sort-option" role="menuitem">
                      <p><span>Date modified</span></p>
                    </li>
                    <li class="file-container-sort-option" role="menuitem">
                      <p><span>Date modified by me</span></p>
                    </li>
                    <li class="file-container-sort-option" role="menuitem">
                      <p><span>Date opened by me</span></p>
                    </li>
                  </ul>
                  <hr />
                  <p class="file-container-sort-menu-title">
                    <span>Sort directions</span>
                  </p>
                  <ul class="file-container-sort-menu-options-list sort-direction-list">
                    <li class="file-container-sort-option" role="menuitem">
                      <p><span>A to Z</span></p>
                    </li>
                    <li class="file-container-sort-option" role="menuitem">
                      <p><span>Z to A</span></p>
                    </li>
                  </ul>
                  <hr />
                  <p class="file-container-sort-menu-title">
                    <span>Folders</span>
                  </p>

                  <ul class="file-container-sort-menu-options-list sort-folder-list">
                    <li class="file-container-sort-option" role="menuitem">
                      <p><span>On top</span></p>
                    </li>
                    <li class="file-container-sort-option" role="menuitem">
                      <p><span>Mixed with files</span></p>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="file-content-container">
                <div
                  id="context-menu-anchor"
                  style="
                    position: fixed;
                    width: 1px;
                    height: 1px;
                    pointer-events: none;
                    z-index: -1;
                  "
                ></div>
                <ul class="file-container-list"></ul>
              </div>
            </div>
          </div>
        </div>
        <div class="empty-myDrive empty-container empty-container-state none">
          <img
            class="empty-container-img"
            src="https://ssl.gstatic.com/docs/doclist/images/empty_state_my_drive_v2.svg"
            alt="Empty Spam Illustration"
          />
          <h2 class="empty-container-msg-header">
            A place for all of your files
          </h2>
          <p class="empty-container-msg"></p>
        </div>
      </main>

      <%- include('partials/R-sidebar.ejs') %>
    </div>

    <script src="/javascripts/partials/driveFilterBar.js"></script>
    <script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script src="/javascripts/tippy-init.js"></script>
    <script src="/javascripts/dropdown.js"></script>
    <script src="/javascripts/partials/L-sidebar.js"></script>
    <script src="/javascripts/partials/R-sidebar.js"></script>
    <script src="/javascripts/partials/composeBtn.js"></script>
    <script src="/javascripts/chevron.js"></script>
    <script src="/javascripts/fileIcons.js"></script>
    <script src="/javascripts/renderFileItem.js"></script>
    <script src="/javascripts/progressBar.js"></script>
    <script src="/javascripts/uploadHandler.js"></script>
    <script src="/javascripts/driveManager.js"></script>
    <script src="/javascripts/selection/selectionStore.js"></script>
    <script src="/javascripts/selection/selectionUi.js"></script>
    <script src="/javascripts/selection/selectionController.js"></script>
    <script src="/javascripts/partials/renamePopup.js"></script>
    <script src="/javascripts/menu/menuActionHandler.js"></script>
    <script src="/javascripts/menu/menuActions.js"></script>
    <script src="/javascripts/menu/contextMenu.js"></script>
    <script src="/javascripts/menu/dotsMenu.js"></script>
    <script src="/javascripts/menu/optionBar.js"></script>
    <script src="/javascripts/partials/renamePopup.js"></script>
    <script src="/javascripts/menu/menuPolicy.js"></script>
    <script src="/javascripts/menu/menuPopper.js"></script>
    <script src="/javascripts/menu/fileSortMenu.js"></script>
    <script src="/javascripts/partials/search.js"></script>
  </body>
</html>
